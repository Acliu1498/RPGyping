{"changed":true,"filter":false,"title":"accessCode.php","tooltip":"/accessCode.php","ace":{},"value":"<!-- https://d4deaa4e1e2043fdb438c522a96c778b.vfs.cloud9.us-east-2.amazonaws.com/StudentSignInPage.php -->\n<?php session_start(); ?>\n<html>\n    <a href=\"Homepage.html\">Homepage</a>\n    <a href=\"\">Next</a>\n    <body background=\"images/white.jpg\">\n        <h3>Create an Access Code</h3>\n        <!-- Need to figure out how to connect mysql with aws cloud9 since different than old version -->\n    <?php\n    $servername = getenv('IP');\n    $username = getenv('C9_USER');\n    $password = \"\";\n    $database = \"egr302\";\n    $dbport = 3306;\n    \n    $db = new mysqli($servername, $username, $password, $database, $dbport);\n    ?>\n    <!--\n    //check if it is empty for now\n    //alphanumeric\n    //6 characters -->\n    \n    <!-- Checks if user input matches constraints -->\n    <?php\n     if (isset($_POST[\"Next\"])) {\n         $accessCode = $_POST[\"accesscode\"];\n         #having trouble with case insensitivity\n        if (strlen($accessCode) == 0 || !preg_match(\"/^[A-Za-z0-9]{3,6}$/\", $accessCode)) {\n            $AccessCodeError = TRUE;\n        }\n\n       #has error, have to check up on this\n       $sameAccessCode = $_POST[\"sameaccesscode\"];\n       if (strlen($sameAccessCode) == 0 || strcmp($accessCode,$sameAccessCode) != 0 ||\n            !preg_match(\"/^[A-Za-z0-9]{3,6}$/\", $sameAccessCode)) {\n           $invalidAccessCodeError = TRUE;\n       }\n        else {\n            header(\"Location: Profile.html\");\n        }\n    }\n    \n    ?>\n    \n    <!--Creates form for Teachers to create an access code using POST method -->\n    <form action=\"accessCode.php\" method=\"post\">\n        Please enter an access code: \n        <input type = \"text\" name = \"accesscode\" /> * <?php AccessCodeError($AccessCodeError) ?> </br> </br>\n        Please re-enter the access code: \n        <input type = \"text\" name = \"sameaccesscode\"/> * <?php invalidAccessCodeError($invalidAccessCodeError) ?> <br> </br>\n        <input type=\"submit\" class = \"button\" name = \"Next\"/>\n    </form>\n    \n     <!-- Error functions that print errors -->\n    <?php\n    function AccessCodeError($AccessCodeError=FALSE) {\n        if ($AccessCodeError) {\n            print \"access code required, must be 3-6 alphanumeric characters\";\n        }\n    }\n\n    function invalidAccessCodeError($invalidAccessCodeError=FALSE) {\n        if ($invalidAccessCodeError) {\n            print \"Access Code is not the same\";\n        }\n    }\n    ?>\n    \n<p>Access codes may be used to link a teacher and a student together.</p>\n        <p>Students will enter the access code as they set up their account.</p> \n        <p>Teachers are free to add students into their class roster via the access code.</p>\n        <p>Teachers must have students use the created access code in order to see the students information. </p>\n        <p>The access code must be at least 3-6 characters, and it is not case sensitive.  </p>\n        <img src=\"images/Steven_Universe.png\" width=\"350\" height=\"350\" align=\"right\" align=\"top\">\n        \n    </body>\n</html>","undoManager":{"mark":-1,"position":-1,"stack":[]},"timestamp":1519972729978}