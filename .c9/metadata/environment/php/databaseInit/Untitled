{"changed":true,"filter":false,"title":"Untitled","tooltip":"/php/databaseInit/Untitled","value":"<?php\n$servername = \"127.0.0.1\";\n$username = \"root\";\n$password = \"egr302\";\n\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n// Check connection \nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n} \n$file = file(\"newVerse.txt\");\nforeach ($file as $line) {\n    list($name, $sentence) = explode(\"  \", $line);\n    if($name != \"\" && $sentence != \"\"){\n        $len = strlen($sentence);\n        $sql = \"USE egr302;\";\n        \n        if ($conn->query($sql) === TRUE) {\n            $sql = \"INSERT INTO Sentence (VerseName, Sentence, Length) VALUES ('$name', '$sentence', $len);\";\n        \n            if ($conn->query($sql) === TRUE) {\n                echo \"New record created successfully\" . '<br/>';\n            } else if(strpos($conn->error, 'Duplicate entry' === false)){\n                echo \"Error: \" . $sql . $conn->error;\n                break;\n            }\n        } else {\n            echo \"Error: \" . $sql . $conn->error;\n            break;\n        }\n    }\n}\n\n\n\n$conn->close();\n?>","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":38,"column":2},"action":"insert","lines":["<?php","$servername = \"127.0.0.1\";","$username = \"root\";","$password = \"egr302\";","","","// Create connection","$conn = new mysqli($servername, $username, $password, $dbname);","// Check connection ","if ($conn->connect_error) {","    die(\"Connection failed: \" . $conn->connect_error);","} ","$file = file(\"newVerse.txt\");","foreach ($file as $line) {","    list($name, $sentence) = explode(\"  \", $line);","    if($name != \"\" && $sentence != \"\"){","        $len = strlen($sentence);","        $sql = \"USE egr302;\";","        ","        if ($conn->query($sql) === TRUE) {","            $sql = \"INSERT INTO Sentence (VerseName, Sentence, Length) VALUES ('$name', '$sentence', $len);\";","        ","            if ($conn->query($sql) === TRUE) {","                echo \"New record created successfully\" . '<br/>';","            } else if(strpos($conn->error, 'Duplicate entry' === false)){","                echo \"Error: \" . $sql . $conn->error;","                break;","            }","        } else {","            echo \"Error: \" . $sql . $conn->error;","            break;","        }","    }","}","","","","$conn->close();","?>"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":33,"column":1},"end":{"row":33,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1522016889355}